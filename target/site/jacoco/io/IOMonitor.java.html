<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="zh"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>IOMonitor.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Civil-aviation-recommended-subject</a> &gt; <a href="index.source.html" class="el_package">io</a> &gt; <span class="el_source">IOMonitor.java</span></div><h1>IOMonitor.java</h1><pre class="source lang-java linenums">package io;

import data_generating_system.*;

import java.io.*;
import java.util.*;
import java.util.logging.*;

public class IOMonitor {
    private IOMonitor() {
    }
    //下面用于定义商品品类对应的编号，其实可以换成枚举类
    public static final int TICKET = 0;
    public static final int HOTEL = 1;
    public static final int MEAL = 2;
    public static final int BAGGAGE = 3;
    public static final int INSURANCE = 4;
    public static final int SEAT = 5;
    //缩写的商品品类，与下面的商品品类全称对应
<span class="fc" id="L20">    protected static final String[] types = {&quot;T&quot;, &quot;H&quot;, &quot;M&quot;, &quot;B&quot;, &quot;I&quot;, &quot;S&quot;};</span>
<span class="fc" id="L21">    protected static final String[] FULL_NAMES = {&quot;Ticket&quot;, &quot;Hotel&quot;, &quot;Meal&quot;, &quot;Baggage&quot;, &quot;Insurance&quot;,&quot;Seat&quot;};</span>
    //用于将订单号与不同品类的商品属性对应，若是内存不足可以考虑将TicketMap改为局部变量
    protected static Map&lt;String, List&lt;String&gt;&gt; ticketMap;
    //将type与index对应，用于快速查找
<span class="fc" id="L25">    protected static HashMap&lt;String, Integer&gt; type2index = new HashMap&lt;&gt;();</span>

    public static HeaderStorage[] getHeaderStorage() {
<span class="fc" id="L28">        return headerStorage;</span>
    }

    //存储每个品类下的商品属性，用于快速查找，主要从CSV文件的头文件读取
<span class="fc" id="L32">    protected static HeaderStorage[] headerStorage = new HeaderStorage[6];</span>

    // 最小置信度
    public static float minConfidence;
    // 最小支持度
    public static float minSupport;
    //csv文件结果输出目录路径，若是不以csv文件的格式输出，则该属性可以为null
    public static String resultDirPath;
    // 机票订单csv文件路径
    public static String pathT;
    // 酒店订单csv文件路径
    public static String pathH;
    // 餐饮订单csv文件路径
    public static String pathM;
    // 保险订单csv文件路径
    public static String pathB;
    // 保险订单csv文件路径
    public static String pathI;
    // 选座订单csv文件路径
    public static String pathS;
    // 模式(若是debug模式，则会输出一部分频繁项集和关联规则，否则不输出)
    public static String mode;
    // 结果输出格式（可以是csv或者是db），csv则会将结果以csv文件的形式输出，db则会将结果存入数据库中
    public static String resultForm;
    // 训练备注
    public static String comment;

    static {
        // 创建Properties对象
<span class="fc" id="L61">        Properties properties = new Properties();</span>
        // 读取配置文件
        try {
<span class="fc" id="L64">            InputStream stream = MongoUtils.class.getClassLoader().getResourceAsStream(&quot;System.properties&quot;);</span>
<span class="fc" id="L65">            properties.load(stream);</span>
<span class="nc" id="L66">        } catch (IOException e) {</span>
<span class="nc" id="L67">            Logger logger = Logger.getLogger(IOMonitor.class.getName());</span>
<span class="nc" id="L68">            logger.info(&quot;加载配置文件失败&quot;);</span>
<span class="fc" id="L69">        }</span>
        // 获取配置文件中的属性
        // 获取csv文件结果输出目录，若是不以csv文件的格式输出，则该属性可以为null
<span class="fc" id="L72">        resultDirPath = properties.getProperty(&quot;resultDirPath&quot;);</span>
        // 获取机票订单csv文件路径
<span class="fc" id="L74">        pathT = properties.getProperty(&quot;ticketFilePath&quot;);</span>
        // 获取酒店订单csv文件路径
<span class="fc" id="L76">        pathH = properties.getProperty(&quot;hotelFilePath&quot;);</span>
        // 获取餐饮订单csv文件路径
<span class="fc" id="L78">        pathM = properties.getProperty(&quot;mealFilePath&quot;);</span>
        // 获取保险订单csv文件路径
<span class="fc" id="L80">        pathB = properties.getProperty(&quot;baggageFilePath&quot;);</span>
        // 获取保险订单csv文件路径
<span class="fc" id="L82">        pathI = properties.getProperty(&quot;insuranceFilePath&quot;);</span>
        // 获取选座订单csv文件路径
<span class="fc" id="L84">        pathS = properties.getProperty(&quot;seatFilePath&quot;);</span>
        // 获取模式(若是debug模式，则会输出一部分频繁项集和关联规则，否则不输出)
<span class="fc" id="L86">        mode = properties.getProperty(&quot;mode&quot;);</span>
        // 获取结果输出格式
<span class="fc" id="L88">        resultForm = properties.getProperty(&quot;resultForm&quot;);</span>
        // 获取最小置信度
<span class="pc bpc" id="L90" title="1 of 2 branches missed.">        minConfidence = properties.getProperty(&quot;minConfidence&quot;) != null ? Float.parseFloat(properties.getProperty(&quot;minConfidence&quot;)) : 0;</span>
        // 获取最小支持度
<span class="pc bpc" id="L92" title="1 of 2 branches missed.">        minSupport = properties.getProperty(&quot;minSupport&quot;) != null ? Float.parseFloat(properties.getProperty(&quot;minSupport&quot;)) : 0;</span>
        // 获取训练备注
<span class="fc" id="L94">        comment = properties.getProperty(&quot;comment&quot;);</span>
<span class="fc" id="L95">    }</span>

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.7.202105040129</span></div></body></html>